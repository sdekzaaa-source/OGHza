<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chrono Battle Pass Calculator V2 (Detailed)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Kanit', sans-serif; }
        .glass { background: rgba(255, 255, 255, 0.96); backdrop-filter: blur(12px); }
        .gradient-bg { background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%); }
        .item-card { transition: all 0.2s; }
        .item-card:hover { transform: translateY(-2px); box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); }
        /* Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #94a3b8; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #64748b; }
    </style>
</head>
<body class="gradient-bg min-h-screen text-gray-800 p-4 md:p-8">

    <div class="max-w-6xl mx-auto">
        <!-- Header -->
        <header class="text-center mb-8 text-white">
            <h1 class="text-3xl md:text-5xl font-bold mb-2 tracking-tight">‚è≥ Chrono Battle Pass V2</h1>
            <p class="text-gray-400 text-lg">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ß‡∏±‡∏ô‡∏à‡∏ö ‚Ä¢ ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì ‚Ä¢ ‡∏™‡∏£‡∏∏‡∏õ‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤</p>
            <div class="mt-4 flex flex-wrap justify-center gap-3">
                <span class="text-xs bg-yellow-500/20 text-yellow-300 border border-yellow-500/50 px-3 py-1 rounded-full">
                    üìÖ ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°: 18 ‡∏Å.‡∏û. - 25 ‡∏°‡∏µ.‡∏Ñ. 69
                </span>
                <span class="text-xs bg-purple-500/20 text-purple-300 border border-purple-500/50 px-3 py-1 rounded-full">
                    üíé ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô Medal: ‡∏ñ‡∏∂‡∏á 25 ‡∏Å.‡∏û. ‡∏ô‡∏µ‡πâ
                </span>
            </div>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">
            
            <!-- LEFT COLUMN: SETTINGS (4 Cols) -->
            <div class="lg:col-span-4 space-y-6">
                <div class="glass rounded-2xl p-6 shadow-xl border border-white/20">
                    <h2 class="text-xl font-bold mb-4 text-blue-900 flex items-center">
                        <span class="w-8 h-8 bg-blue-100 text-blue-600 rounded-lg flex items-center justify-center mr-2 text-sm font-bold">1</span> 
                        ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢
                    </h2>
                    
                    <!-- Date & Target -->
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-bold mb-1 text-gray-600">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</label>
                            <input type="date" id="currentDate" class="w-full bg-gray-50 border border-gray-200 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-bold mb-1 text-gray-600">‡πÄ‡∏•‡πÄ‡∏ß‡∏•‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ (Target)</label>
                            <div class="relative">
                                <input type="number" id="targetLevel" value="2500" class="w-full bg-gray-50 border border-gray-200 rounded-lg p-2.5 text-xl font-bold text-blue-700 focus:ring-2 focus:ring-blue-500 outline-none pr-16">
                                <span class="absolute right-3 top-3.5 text-gray-400 text-sm font-bold">LVL</span>
                            </div>
                            <!-- Preset Buttons -->
                            <div class="grid grid-cols-3 gap-2 mt-2">
                                <button onclick="setTarget(300)" class="text-xs bg-gray-100 hover:bg-gray-200 py-1.5 rounded text-gray-600 font-medium transition">Lv.300 (‡∏ï‡∏±‡πã‡∏ßx2)</button>
                                <button onclick="setTarget(600)" class="text-xs bg-gray-100 hover:bg-gray-200 py-1.5 rounded text-gray-600 font-medium transition">Lv.600 (+9)</button>
                                <button onclick="setTarget(2500)" class="text-xs bg-yellow-50 hover:bg-yellow-100 border border-yellow-200 py-1.5 rounded text-yellow-700 font-medium transition">Lv.2500 (‡∏õ‡∏µ‡∏Å)</button>
                            </div>
                        </div>
                    </div>

                    <!-- Quest Config -->
                    <div class="mt-6 border-t border-gray-100 pt-4">
                        <h3 class="font-bold text-sm mb-3 text-gray-700">‡∏Å‡∏¥‡∏à‡∏ß‡∏±‡∏ï‡∏£ (Grinding)</h3>
                        <div class="space-y-3">
                            <label class="flex items-center justify-between cursor-pointer group">
                                <span class="text-sm text-gray-600 group-hover:text-blue-600">Daily Quest (30 EXP)</span>
                                <input type="checkbox" id="questDaily" checked class="w-5 h-5 text-blue-600 rounded focus:ring-blue-500">
                            </label>
                            <label class="flex items-center justify-between cursor-pointer group">
                                <span class="text-sm text-gray-600 group-hover:text-green-600">Daily Zeny 1M (30 EXP)</span>
                                <input type="checkbox" id="questZenyDaily" checked class="w-5 h-5 text-green-600 rounded focus:ring-green-500">
                            </label>
                            <label class="flex items-center justify-between cursor-pointer group">
                                <span class="text-sm text-gray-600 group-hover:text-blue-600">Weekly Quest (300 EXP)</span>
                                <input type="checkbox" id="questWeekly" checked class="w-5 h-5 text-blue-600 rounded focus:ring-blue-500">
                            </label>
                            <label class="flex items-center justify-between cursor-pointer group">
                                <div class="flex flex-col">
                                    <span class="text-sm text-gray-600 group-hover:text-red-500">Weekly Zeny 10M</span>
                                    <span class="text-[10px] text-red-400">‡πÑ‡∏î‡πâ‡πÅ‡∏Ñ‡πà 40 EXP (‡πÑ‡∏°‡πà‡∏Ñ‡∏∏‡πâ‡∏°)</span>
                                </div>
                                <input type="checkbox" id="questZenyWeekly" class="w-5 h-5 text-red-500 rounded focus:ring-red-500">
                            </label>
                        </div>
                    </div>

                    <!-- Promo Config -->
                    <div class="mt-4 bg-yellow-50 p-3 rounded-xl border border-yellow-200">
                        <label class="flex items-center space-x-3 cursor-pointer">
                            <input type="checkbox" id="usePromo" checked class="w-5 h-5 text-yellow-600 rounded focus:ring-yellow-500">
                            <div>
                                <span class="font-bold text-yellow-800 text-sm">‡πÉ‡∏ä‡πâ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô Medal</span>
                                <p class="text-[10px] text-yellow-600">‡∏´‡∏°‡∏î‡πÄ‡∏Ç‡∏ï 25 ‡∏Å.‡∏û. ‡∏ô‡∏µ‡πâ</p>
                            </div>
                        </label>
                    </div>

                    <button onclick="calculate()" class="mt-6 w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-blue-500/30 transition transform active:scale-95">
                        üöÄ ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
                    </button>
                </div>
            </div>

            <!-- RIGHT COLUMN: RESULTS (8 Cols) -->
            <div class="lg:col-span-8 space-y-6">
                
                <!-- 1. Status Cards -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <!-- Date Card -->
                    <div class="glass p-5 rounded-2xl shadow-sm border-l-4 border-blue-500 relative overflow-hidden">
                        <p class="text-xs text-gray-500 font-bold uppercase tracking-wider mb-1">üìÖ ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (Estimated Date)</p>
                        <h3 class="text-xl font-bold text-gray-800" id="completionDate">-</h3>
                        <p class="text-xs text-blue-600 mt-1" id="completionNote">‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì Grinding</p>
                    </div>
                    
                    <!-- Money Card -->
                    <div class="glass p-5 rounded-2xl shadow-sm border-l-4 border-purple-500">
                        <p class="text-xs text-gray-500 font-bold uppercase tracking-wider mb-1">üí∞ ‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì (Silvervine)</p>
                        <h3 class="text-2xl font-bold text-purple-700" id="totalSV">0 SV</h3>
                        <p class="text-xs text-gray-400 mt-1">+ <span id="totalZeny" class="font-bold text-gray-600">0</span> Zeny</p>
                    </div>

                    <!-- Medal Card -->
                    <div class="glass p-5 rounded-2xl shadow-sm border-l-4 border-yellow-400">
                        <p class="text-xs text-gray-500 font-bold uppercase tracking-wider mb-1">üéÅ Mysterious Medal</p>
                        <h3 class="text-2xl font-bold text-yellow-600" id="totalMedal">0</h3>
                        <p class="text-xs text-yellow-700 mt-1">‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ä‡πà‡∏ß‡∏á‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô</p>
                    </div>
                </div>

                <!-- 2. Buying Plan & Progress -->
                <div class="glass rounded-2xl p-6 shadow-xl border border-white/20">
                    <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-4">
                        <h2 class="text-lg font-bold text-gray-800">üìä ‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏•‡πÄ‡∏ß‡∏• (Progress Plan)</h2>
                        <span class="text-xs font-medium bg-gray-100 text-gray-600 px-2 py-1 rounded mt-2 md:mt-0">
                            Grind: <span id="grindLevel" class="font-bold text-gray-800">0</span> + Buy: <span id="buyLevel" class="font-bold text-blue-600">0</span>
                        </span>
                    </div>

                    <!-- Progress Bar -->
                    <div class="w-full bg-gray-200 rounded-full h-4 mb-4 overflow-hidden flex">
                        <div id="barGrind" class="bg-gray-500 h-4 flex items-center justify-center text-[8px] text-white font-bold transition-all duration-500" style="width: 0%">GRIND</div>
                        <div id="barBuy" class="bg-blue-500 h-4 flex items-center justify-center text-[8px] text-white font-bold transition-all duration-500" style="width: 0%">BUY</div>
                    </div>

                    <div class="bg-blue-50/50 rounded-xl p-4 border border-blue-100">
                        <p class="text-sm font-bold text-blue-900 mb-2">üõí ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ã‡∏∑‡πâ‡∏≠ (Shopping List):</p>
                        <ul id="buyingPlan" class="text-sm space-y-1 text-blue-800 list-disc list-inside">
                            <li>-</li>
                        </ul>
                    </div>
                </div>

                <!-- 3. Inventory Summary (Detailed Items) -->
                <div class="glass rounded-2xl p-6 shadow-xl border border-white/20">
                    <h2 class="text-lg font-bold text-gray-800 mb-4 flex items-center justify-between">
                        <span class="flex items-center"><span class="text-xl mr-2">üéí</span> ‡∏™‡∏£‡∏∏‡∏õ‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏ï‡∏±‡∏ß (Total Inventory)</span>
                        <span class="text-xs text-gray-400 font-normal">‡∏£‡∏ß‡∏°‡∏™‡∏∞‡∏™‡∏°‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà Lv.1</span>
                    </h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Left: Rare & Tickets -->
                        <div>
                            <h3 class="text-xs font-bold text-purple-600 uppercase tracking-wide mb-3 border-b pb-1">üíé Rare Items & Equipment</h3>
                            <div class="space-y-2" id="rareList">
                                <!-- JS Injection -->
                            </div>
                        </div>

                        <!-- Right: Consumables -->
                        <div>
                            <h3 class="text-xs font-bold text-green-600 uppercase tracking-wide mb-3 border-b pb-1">üì¶ Consumables & Boxes</h3>
                            <div class="space-y-2" id="consuList">
                                <!-- JS Injection -->
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        
        <footer class="text-center text-gray-500 text-xs mt-8 pb-8">
            Created for ROC Players | Data Estimation based on Chrono Pass Feb 2026
        </footer>
    </div>

    <script>
        // --- Constants ---
        const EVENT_START = new Date('2026-02-18');
        const EVENT_END = new Date('2026-03-25');
        const PROMO_END = new Date('2026-02-25');
        const EXP_PER_LEVEL = 10;

        // Init
        document.getElementById('currentDate').valueAsDate = new Date();

        function setTarget(val) {
            document.getElementById('targetLevel').value = val;
            calculate();
        }

        function calculate() {
            // 1. Gather Inputs
            const inputDateVal = document.getElementById('currentDate').value;
            const inputDate = new Date(inputDateVal);
            const targetLv = parseInt(document.getElementById('targetLevel').value) || 0;
            const usePromo = document.getElementById('usePromo').checked;
            
            // Quests
            const doDaily = document.getElementById('questDaily').checked;
            const doZenyDaily = document.getElementById('questZenyDaily').checked;
            const doWeekly = document.getElementById('questWeekly').checked;
            const doZenyWeekly = document.getElementById('questZenyWeekly').checked;

            // 2. Validate
            if (inputDate > EVENT_END) { alert("‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°"); return; }
            let promoActive = usePromo;
            if (usePromo && inputDate > PROMO_END) {
                promoActive = false;
                // Soft warn or UI update
                document.getElementById('totalMedal').parentElement.classList.add('opacity-50');
            } else {
                document.getElementById('totalMedal').parentElement.classList.remove('opacity-50');
            }

            // 3. Time & Grind Calculation
            const oneDay = 24 * 60 * 60 * 1000;
            const startDate = inputDate < EVENT_START ? EVENT_START : inputDate;
            const diffTime = Math.abs(EVENT_END - startDate);
            const remainingDays = Math.max(0, Math.ceil(diffTime / oneDay)) + 1; // Inclusive today

            // Calc Daily/Weekly Gain
            let dailyGain = 0;
            if (doDaily) dailyGain += 30;
            if (doZenyDaily) dailyGain += 30;
            
            let weeklyGain = 0;
            if (doWeekly) weeklyGain += 300;
            if (doZenyWeekly) weeklyGain += 40;

            // Zeny Cost
            let totalZeny = 0;
            totalZeny += (doZenyDaily ? 1000000 : 0) * remainingDays;
            const weeks = Math.ceil(remainingDays / 7);
            totalZeny += (doZenyWeekly ? 10000000 : 0) * weeks;

            // Total Grind EXP (Max Possible)
            const totalGrindExp = (dailyGain * remainingDays) + (weeklyGain * weeks);
            const maxGrindLv = Math.floor(totalGrindExp / EXP_PER_LEVEL);

            // 4. Determine Completion Date (Estimation)
            // If target <= maxGrindLv, find WHEN we reach it.
            // If target > maxGrindLv, date is EndDate (because we grind till end then buy).
            let finishDateStr = "-";
            let finishNote = "";
            let neededExp = targetLv * EXP_PER_LEVEL;

            if (maxGrindLv >= targetLv) {
                // Simulation Loop to find day
                let currentExp = 0;
                let daysPassed = 0;
                // Simple simulation: Distribute weekly exp daily for smoother estimation? 
                // No, let's just use Average Daily Rate for estimation to keep it fast
                const avgDaily = dailyGain + (weeklyGain / 7);
                const daysNeeded = Math.ceil(neededExp / avgDaily);
                
                const finishDate = new Date(startDate.getTime() + (daysNeeded * oneDay));
                const options = { year: 'numeric', month: 'short', day: 'numeric', locale: 'th-TH' };
                finishDateStr = finishDate.toLocaleDateString('th-TH', options);
                finishNote = "‡∏ó‡∏≥‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô!";
            } else {
                // Must Buy
                const options = { year: 'numeric', month: 'short', day: 'numeric', locale: 'th-TH' };
                finishDateStr = EVENT_END.toLocaleDateString('th-TH', options);
                finishNote = "‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡πÄ‡∏Ñ‡∏ß‡∏™‡∏à‡∏ô‡∏ß‡∏±‡∏ô‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢ + ‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°";
            }

            // 5. Calculate Buying Plan
            let grindLv = Math.min(maxGrindLv, targetLv); // If target is 300 but we can grind 400, strictly speaking we only need 300, but logic usually assumes max grind to save money. Let's assume user STOPS grinding when target reached if target < max.
            
            // Correction: If user WANTS Lv 300, and can grind to 400. They stop at 300.
            // Grind Level displayed should be "Level achieved by playing".
            // Buy Level = Target - Grind Level.
            // But wait, "Grind Level" depends on "Time". 
            // Strategy: "Maximize Grind to minimize Cost".
            // So Grind Level = Max Possible Grind (capped at target).
            
            let actualGrindLv = maxGrindLv;
            if (actualGrindLv > targetLv) actualGrindLv = targetLv;
            
            let buyLv = targetLv - actualGrindLv;
            if (buyLv < 0) buyLv = 0;

            // Silvervine Calc
            let costSV = 0;
            let medals = 0;
            let remainingToBuy = buyLv;
            let planHTML = "";

            if (remainingToBuy > 0) {
                const p3000 = Math.floor(remainingToBuy / 1000);
                if (p3000 > 0) {
                    costSV += p3000 * 3000;
                    if (promoActive) medals += p3000 * 6000;
                    remainingToBuy %= 1000;
                    planHTML += `<li><b>‡πÅ‡∏û‡πá‡∏Å 3,000 SV</b> x ${p3000}</li>`;
                }
                const p300 = Math.floor(remainingToBuy / 100);
                if (p300 > 0) {
                    costSV += p300 * 300;
                    if (promoActive) medals += p300 * 500;
                    remainingToBuy %= 100;
                    planHTML += `<li><b>‡πÅ‡∏û‡πá‡∏Å 300 SV</b> x ${p300}</li>`;
                }
                const p30 = Math.floor(remainingToBuy / 10);
                if (p30 > 0) {
                    costSV += p30 * 30;
                    remainingToBuy %= 10;
                    planHTML += `<li>‡πÅ‡∏û‡πá‡∏Å 30 SV x ${p30}</li>`;
                }
                if (remainingToBuy > 0) {
                    costSV += remainingToBuy * 3;
                    planHTML += `<li>‡πÅ‡∏û‡πá‡∏Å 3 SV x ${remainingToBuy}</li>`;
                }
            } else {
                planHTML = "<li class='text-green-600'>‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°! ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏¢‡∏±‡∏ô‡∏û‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏õ‡∏ñ‡∏∂‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢</li>";
            }

            // 6. Update UI (Basic Stats)
            document.getElementById('completionDate').innerText = finishDateStr;
            document.getElementById('completionNote').innerText = finishNote;
            document.getElementById('totalSV').innerText = costSV.toLocaleString() + " SV";
            document.getElementById('totalZeny').innerText = (totalZeny / 1000000).toFixed(1) + " M";
            document.getElementById('totalMedal').innerText = medals.toLocaleString();
            
            document.getElementById('grindLevel').innerText = actualGrindLv.toLocaleString();
            document.getElementById('buyLevel').innerText = buyLv.toLocaleString();
            document.getElementById('buyingPlan').innerHTML = planHTML;

            // Update Progress Bar
            const total = Math.max(targetLv, 1);
            const grindPct = (actualGrindLv / total) * 100;
            const buyPct = (buyLv / total) * 100;
            document.getElementById('barGrind').style.width = `${grindPct}%`;
            document.getElementById('barBuy').style.width = `${buyPct}%`;
            document.getElementById('barGrind').innerText = grindPct > 5 ? `GRIND ${actualGrindLv}` : '';
            document.getElementById('barBuy').innerText = buyPct > 5 ? `BUY ${buyLv}` : '';

            // 7. Generate Detailed Inventory (The New Feature)
            generateInventory(targetLv);
        }

        function generateInventory(level) {
            // Aggregate Items
            let inv = {
                tickets: 0,
                costumes: [],
                refine7: 0, refine9: 0, refine11: 0,
                boxes1: 0, boxes2: 0, boxes3: 0,
                potions: 0, scrolls: 0, manuals: 0,
                specials: []
            };

            // Loop through levels (Simulation)
            // Rules extracted from ROC data
            for (let i = 1; i <= level; i++) {
                // Milestones
                if (i === 100) inv.tickets++;
                if (i === 200) inv.costumes.push("Costume Cosmic Connection");
                if (i === 300) inv.tickets++;
                if (i === 2500) inv.costumes.push("Costume Golden Valkyrie Wings");

                // Refines
                if (i === 350) inv.refine7++; // Weapon
                if (i === 400) inv.refine7++; // Armor
                if (i === 600) inv.refine9++;
                if (i === 700) inv.refine9++;
                if (i === 1500) inv.refine11++;
                if (i === 2000) inv.refine11++;

                // Treasure Boxes (Cumulative Logic)
                if (i > 100) {
                    // Box I: Every 10 lv + Bonus at 300
                    if (i % 10 === 0) inv.boxes1++;
                    if (i === 300) inv.boxes1 += 30;

                    // Box II: Every 20 lv + Bonus at 500
                    if (i % 20 === 0) inv.boxes2++;
                    if (i === 500) inv.boxes2 += 30;

                    // Box III: Every 50 lv + Bonus at 200, 300, 900
                    if (i % 50 === 0) inv.boxes3++;
                    if (i === 200) inv.boxes3 += 2;
                    if (i === 300) inv.boxes3 += 3;
                    if (i === 900) inv.boxes3 += 30;
                }

                // Consumables (Lv 1-100 Approx)
                if (i <= 100) {
                    if (i % 4 === 0) inv.potions += 1; // Approx 25 total
                    if (i % 2 === 0) inv.scrolls += 1; // Approx 50 total
                    if (i % 10 === 0) inv.manuals += 1;
                }
            }

            // Render Rares
            let rareHTML = "";
            if (inv.costumes.length > 0) {
                inv.costumes.forEach(c => rareHTML += itemRow('üé≠', c, '1', 'text-yellow-600 bg-yellow-50'));
            }
            if (inv.tickets > 0) rareHTML += itemRow('üé´', '[Not For Sale] Chrono Pass Ticket', inv.tickets, 'text-blue-600 bg-blue-50');
            if (inv.refine11 > 0) rareHTML += itemRow('üî®', 'Guarantee Weapon/Armor +11', inv.refine11, 'text-purple-600 bg-purple-50');
            if (inv.refine9 > 0) rareHTML += itemRow('üî®', 'Guarantee Weapon/Armor +9', inv.refine9, 'text-purple-500 bg-purple-50');
            if (inv.refine7 > 0) rareHTML += itemRow('üî®', 'Guarantee Weapon/Armor +7', inv.refine7, 'text-purple-400 bg-purple-50');
            if (level >= 350) rareHTML += itemRow('üë¢', 'Special Enchant Temporal Boots', 1, 'text-indigo-600 bg-indigo-50');
            
            document.getElementById('rareList').innerHTML = rareHTML || "<div class='text-gray-400 text-sm'>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÅ‡∏£‡∏£‡πå‡πÉ‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡∏µ‡πâ</div>";

            // Render Consumables
            let consuHTML = "";
            if (inv.boxes3 > 0) consuHTML += itemRow('üì¶', 'Treasure Box III', inv.boxes3, 'text-gray-800 font-bold');
            if (inv.boxes2 > 0) consuHTML += itemRow('üì¶', 'Treasure Box II', inv.boxes2, 'text-gray-700');
            if (inv.boxes1 > 0) consuHTML += itemRow('üì¶', 'Treasure Box I', inv.boxes1, 'text-gray-600');
            if (inv.potions > 0) consuHTML += itemRow('üç∑', 'Small Life/Mana Potion Set', `~${inv.potions}`, 'text-red-500');
            if (inv.scrolls > 0) consuHTML += itemRow('üìú', 'Buff Scroll Set (Agi/Bless)', `~${inv.scrolls}`, 'text-green-500');
            
            document.getElementById('consuList').innerHTML = consuHTML || "<div class='text-gray-400 text-sm'>‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏™‡∏∞‡∏™‡∏°...</div>";
        }

        function itemRow(icon, name, qty, styleClass) {
            return `
                <div class="flex justify-between items-center p-2 rounded-lg item-card ${styleClass}">
                    <div class="flex items-center space-x-2">
                        <span class="text-lg">${icon}</span>
                        <span class="text-sm font-medium">${name}</span>
                    </div>
                    <span class="font-bold text-sm bg-white/50 px-2 py-0.5 rounded shadow-sm">x${qty}</span>
                </div>
            `;
        }

        // Run
        window.onload = calculate;
    </script>
</body>
</html>